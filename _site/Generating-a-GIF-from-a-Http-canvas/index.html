<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/spin.js"></script>
<script src="/assets/js/jquery.unveil.js"></script>
<script src="/assets/js/lastfm.api.md5.js"></script>
<script src="/assets/js/base64.js"></script>
<script src="/assets/js/underscore-min.js"></script>
<script src="/assets/js/github.js"></script>

<script src="/assets/js/lastfm.api.cache.js"></script>
<script src="/assets/js/lastfm.api.js"></script>
<link href="/assets/css/font-awesome.css" rel="stylesheet" />
<link href="/assets/css/i3.css" rel="stylesheet" />
<link href="/assets/css/browser.css" rel="stylesheet" />
<link href="/assets/css/custom.css" rel="stylesheet" />
<link href="/assets/css/IconicIcons.css" rel="stylesheet" />
<link href="/assets/css/font-mfizz.css" rel="stylesheet" />
<link href="/assets/css/loversquarrel.css" rel="stylesheet" />
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro|PT+Sans|PT+Sans+Narrow|PT+Serif+Caption|PT+Mono|PT+Serif|Source+Code+Pro|Raleway|Raleway+Dots|PT+Sans+Caption' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato:400italic' rel='stylesheet' type='text/css'>
<title>Generating a .gif from a Http canvas &#8211; Kumarcode</title>
<meta name="description" content="">
<meta name="keywords" content="">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Generating a .gif from a Http canvas">
<meta property="og:description" content="A stylish blog on my code">
<meta property="og:url" content="/Generating-a-GIF-from-a-Http-canvas/">
<meta property="og:site_name" content="Kumarcode">





<link rel="canonical" href="/Generating-a-GIF-from-a-Http-canvas/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Kumarcode Feed">
<link rel="author" href="http://plus.google.com/+/u/0/104266827599169158890/posts?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.min.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<span id="titlename"><a href="/"><i class="fa fa-code"></i>Kumarcode</a></span>
			<script type="text/javascript">
					$( document ).ready(function() {



         				
							$("#titlename").mouseover(function(){
								$(this).find("i").addClass("tospin");
							});

							$("#titlename").mouseout(function(){
								$(this).find("i").removeClass("tospin");
							});

							   							



					});	

</script>

	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				<span class="About" id="1"> <li><a href="/about/" ><i class="fa fa-user" id="1"></i>&nbsp;About</a></li></span>
				<script type="text/javascript">
					$( document ).ready(function() {



         				
							$("#1").mouseover(function(){
								$(this).find("i").addClass("tospin");
							});

							$("#1").mouseout(function(){
								$(this).find("i").removeClass("tospin");
							});

							   							



					});	

</script>

		        
				<span class="Posts" id="2"> <li><a href="/posts/" ><i class="fa fa-inbox" id="2"></i>&nbsp;Posts</a></li></span>
				<script type="text/javascript">
					$( document ).ready(function() {



         				
							$("#2").mouseover(function(){
								$(this).find("i").addClass("tospin");
							});

							$("#2").mouseout(function(){
								$(this).find("i").removeClass("tospin");
							});

							   							



					});	

</script>

		        
				<span class="Gardening" id="3"> <li><a href="/gardening/" ><i class="fa fa-leaf" id="3"></i>&nbsp;Gardening</a></li></span>
				<script type="text/javascript">
					$( document ).ready(function() {



         				
							$("#3").mouseover(function(){
								$(this).find("i").addClass("tospin");
							});

							$("#3").mouseout(function(){
								$(this).find("i").removeClass("tospin");
							});

							   							



					});	

</script>

		        
				<span class="Arch Linux" id="4"> <li><a href="/arch/" ><i class="icon-arch" id="4"></i>&nbsp;Arch Linux</a></li></span>
				<script type="text/javascript">
					$( document ).ready(function() {



         				
							$("#4").mouseover(function(){
								$(this).find("i").addClass("tospin");
							});

							$("#4").mouseout(function(){
								$(this).find("i").removeClass("tospin");
							});

							   							



					});	

</script>

		        
				<span class="music" id="5"> <li><a href="/music/" ><i class="fa fa-music" id="5"></i>&nbsp;music</a></li></span>
				<script type="text/javascript">
					$( document ).ready(function() {



         				
							$("#5").mouseover(function(){
								$(this).find("i").addClass("tospin");
							});

							$("#5").mouseout(function(){
								$(this).find("i").removeClass("tospin");
							});

							   							



					});	

</script>

		        
				<span class="projects" id="6"> <li><a href="/projects/" ><i class="fa fa-flask" id="6"></i>&nbsp;projects</a></li></span>
				<script type="text/javascript">
					$( document ).ready(function() {



         				
							$("#6").mouseover(function(){
								$(this).find("i").addClass("tospin");
							});

							$("#6").mouseout(function(){
								$(this).find("i").removeClass("tospin");
							});

							   							



					});	

</script>

		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->






<div id="main" role="main">
  <div class="article-author-side">
    
	<img src="/images/bio-photo.jpg" class="bio-photo" alt="Nikhil Kumar bio photo"></a>

<h3>Nikhil Kumar</h3>
<span class="siteBio">A stylish blog on my code<br><br></span>


<a href="http://plus.google.com//u/0/104266827599169158890/posts" class="author-social" target="_blank">&nbsp;<i class="icon-google-plus"></i>&nbsp;<span class = "socialelm" style= "position: relative; left: 1px;"><font color="#586e75">G</font>oogle+</span></a>
<a href="mailto:nikhilkumar516@gmail.com" class="author-social" target="_blank"><i class="fa fa-envelope fa-fw"></i><span class = "socialelm"> <font color="#586e75"> G</font>mail</span></a>




<a href="http://github.com/nikhil" class="author-social" target="_blank"><i class="fa fa-github-square fa-fw"></i> <span class = "socialelm"><font color="#586e75">G</font>ithub</span></a>






<br>
<i class="fa fa-git-square"></i><span class ="changelog"> Changelog: </span>
<script type="text/javascript">
$.get(
  		"https://api.github.com/repos/nikhil/nikhil.github.io/commits",
		function(data){
		   	var date;
			var datepart;
			var messagestr;
			var html = '<br><span class = "changeitems">';
			for(i=0;i < 8; i++)
			{	
				messagestr = data[i].commit.message;
				date = data[i].commit.committer.date;
                datepart = date.split("T")[0];
				html += '<font color = "#586e75">'+ datepart.substring(5)+'</font>'+'&nbsp;&nbsp;'+messagestr+ '<br>';

				        
			
			
			} 

		     html += '</span>';
			 $('.changelog').append(html);
			 $('.changelog').removeClass('changelog');

			 
	
		}




	  )

</script>


  </div>
  <article>
    <div class="headline-wrap">
      
        <h1><a href="/Generating-a-GIF-from-a-Http-canvas/" rel="bookmark" title="Generating a .gif from a Http canvas">Generating a .gif from a Http canvas</a></h1>
		<p class="byline"><time datetime="2014-08-25T00:00:00-04:00">August 25, 2014</time></p>
      
    </div><!--/ .headline-wrap -->


    <div class="article-wrap">
      <p>Today, I wanted to create a loading animation for my images on my garden page.
Since I have a lot of high quality images, I decided to use <code>unveil.js</code>. This
javascript plugin allows me to <code>lazy-load</code> my images and also present a loading image.</p>

<h1 id="setting-up-the-image">Setting up the image</h1>
<p>You need to first import unveil.js</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="lineno">1</span> <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/assets/js/jquery.unveil.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></div>

<p>Then create your image tag:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="lineno">1</span> <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">&quot;lazy&quot;</span> <span class="na">data-src=</span><span class="s">&quot;/images/gardening/lily.JPG&quot;</span> <span class="na">src=</span><span class="s">&quot;/images/loading.gif&quot;</span> <span class="nt">/&gt;</span></code></pre></div>

<p>Then run the javascript plugin:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno">1</span> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno">2</span> 
<span class="lineno">3</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.lazy&quot;</span><span class="p">).</span><span class="nx">unveil</span><span class="p">();</span>
<span class="lineno">4</span> 
<span class="lineno">5</span> <span class="p">});</span></code></pre></div>

<h1 id="example">Example</h1>

<p><img class="lazy" data-src="/images/gardening/lily.JPG" src="/images/loading.gif" /></p>

<script>
$(document).ready(function() {

$(".lazy").unveil();


});
</script>

<h1 id="generating-the-animation">Generating the animation</h1>

<p>I decided I wanted to create my own custom loading animation. I was able to
create my own animation on the <code>canvas</code> using <code>javascript</code>.</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="lineno">1</span> <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;canvas-container&quot;</span> <span class="na">style=</span><span class="s">&quot;width: 500px; height: 300px;&quot;</span><span class="nt">&gt;</span>
<span class="lineno">2</span>     <span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">&quot;sineCanvas&quot;</span> <span class="na">style=</span><span class="s">&quot;width: 500px; height: 300px;&quot;</span> <span class="na">width=</span><span class="s">&quot;500&quot;</span> <span class="na">height=</span><span class="s">&quot;300&quot;</span><span class="nt">&gt;&lt;/canvas&gt;</span>
<span class="lineno">3</span> <span class="nt">&lt;/div&gt;</span></code></pre></div>

<p>Then I created a custom animation using javascript. This is an extension of a
sample code on drawing a sine curve <a href="http://jsfiddle.net/umaar/fWSUk/"> here. </a></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno">  1</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
<span class="lineno">  2</span> 
<span class="lineno">  3</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="nx">Humble</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="nb">window</span><span class="p">.</span><span class="nx">Humble</span> <span class="o">=</span> <span class="p">{};</span>
<span class="lineno">  4</span> <span class="nx">Humble</span><span class="p">.</span><span class="nx">Trig</span> <span class="o">=</span> <span class="p">{};</span>
<span class="lineno">  5</span> <span class="nx">Humble</span><span class="p">.</span><span class="nx">Trig</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="nx">init</span><span class="p">;</span>
<span class="lineno">  6</span> 
<span class="lineno">  7</span> <span class="kd">var</span> <span class="nx">unit</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
<span class="lineno">  8</span>     <span class="nx">canvas</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">canvas2</span><span class="p">,</span> <span class="nx">context2</span><span class="p">,</span>
<span class="lineno">  9</span>     <span class="nx">height</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">xAxis</span><span class="p">,</span> <span class="nx">yAxis</span><span class="p">,</span> <span class="nx">gif</span><span class="p">,</span>
<span class="lineno"> 10</span>     <span class="nx">draw</span><span class="p">;</span>
<span class="lineno"> 11</span> 
<span class="lineno"> 12</span> <span class="cm">/**</span>
<span class="lineno"> 13</span> <span class="cm"> * Init function.</span>
<span class="lineno"> 14</span> <span class="cm"> * </span>
<span class="lineno"> 15</span> <span class="cm"> * Initialize variables and begin the animation.</span>
<span class="lineno"> 16</span> <span class="cm"> */</span>
<span class="lineno"> 17</span> <span class="kd">function</span> <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno"> 18</span>  
<span class="lineno"> 19</span> 	<span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;sineCanvas&quot;</span><span class="p">);</span>
<span class="lineno"> 20</span>     
<span class="lineno"> 21</span>     <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
<span class="lineno"> 22</span>     <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
<span class="lineno"> 23</span>     <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span>
<span class="lineno"> 24</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;#fdf6e3&quot;</span><span class="p">;</span>
<span class="lineno"> 25</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">300</span><span class="p">);</span>
<span class="lineno"> 26</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="s1">&#39;18px sans-serif&#39;</span><span class="p">;</span>
<span class="lineno"> 27</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s1">&#39;#000&#39;</span><span class="p">;</span>
<span class="lineno"> 28</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">lineJoin</span> <span class="o">=</span> <span class="s1">&#39;round&#39;</span><span class="p">;</span>
<span class="lineno"> 29</span>     
<span class="lineno"> 30</span>     <span class="nx">height</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
<span class="lineno"> 31</span>     <span class="nx">width</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>
<span class="lineno"> 32</span>     
<span class="lineno"> 33</span>     <span class="nx">xAxis</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>
<span class="lineno"> 34</span>     <span class="nx">yAxis</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mi">4</span><span class="p">);</span>
<span class="lineno"> 35</span>     
<span class="lineno"> 36</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
<span class="lineno"> 37</span>     <span class="nx">draw</span><span class="p">();</span>
<span class="lineno"> 38</span> <span class="p">}</span>
<span class="lineno"> 39</span> 
<span class="lineno"> 40</span> <span class="cm">/**</span>
<span class="lineno"> 41</span> <span class="cm"> * Draw animation function.</span>
<span class="lineno"> 42</span> <span class="cm"> * </span>
<span class="lineno"> 43</span> <span class="cm"> * This function draws one frame of the animation, waits 20ms, and then calls</span>
<span class="lineno"> 44</span> <span class="cm"> * itself again.</span>
<span class="lineno"> 45</span> <span class="cm"> */</span>
<span class="lineno"> 46</span> <span class="nx">draw</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
<span class="lineno"> 47</span>     
<span class="lineno"> 48</span>     <span class="c1">// Clear the canvas</span>
<span class="lineno"> 49</span>     <span class="c1">//context.clearRect(0, 0, width, height);</span>
<span class="lineno"> 50</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;#fdf6e3&quot;</span><span class="p">;</span>
<span class="lineno"> 51</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">300</span><span class="p">);</span>
<span class="lineno"> 52</span> 
<span class="lineno"> 53</span> 
<span class="lineno"> 54</span>     <span class="c1">// Draw the axes in their own path</span>
<span class="lineno"> 55</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="lineno"> 56</span>     
<span class="lineno"> 57</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
<span class="lineno"> 58</span>     
<span class="lineno"> 59</span>     <span class="c1">// Set styles for animated graphics</span>
<span class="lineno"> 60</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
<span class="lineno"> 61</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span><span class="p">;</span>
<span class="lineno"> 62</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="s2">&quot;Loading...&quot;</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">150</span><span class="p">);</span>
<span class="lineno"> 63</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s1">&#39;#00f&#39;</span><span class="p">;</span>
<span class="lineno"> 64</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="lineno"> 65</span>    
<span class="lineno"> 66</span>   
<span class="lineno"> 67</span>     <span class="c1">// Update the time and draw again</span>
<span class="lineno"> 68</span>     <span class="nx">draw</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">=</span> <span class="nx">draw</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">-</span> <span class="p">.</span><span class="mi">007</span><span class="p">;</span>
<span class="lineno"> 69</span>     <span class="nx">draw</span><span class="p">.</span><span class="nx">t</span> <span class="o">=</span> <span class="nx">draw</span><span class="p">.</span><span class="nx">seconds</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">;</span>
<span class="lineno"> 70</span>     <span class="nx">drawSine</span><span class="p">(</span><span class="nx">draw</span><span class="p">.</span><span class="nx">t</span><span class="p">);</span>
<span class="lineno"> 71</span>     <span class="nx">drawinSine</span><span class="p">(</span><span class="nx">draw</span><span class="p">.</span><span class="nx">t</span><span class="p">);</span>
<span class="lineno"> 72</span>     <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">draw</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="lineno"> 73</span> 	
<span class="lineno"> 74</span> 	
<span class="lineno"> 75</span> <span class="p">};</span>
<span class="lineno"> 76</span> <span class="nx">draw</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="lineno"> 77</span> <span class="nx">draw</span><span class="p">.</span><span class="nx">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="lineno"> 78</span> 
<span class="lineno"> 79</span>  <span class="kd">function</span> <span class="nx">drawSine</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 80</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="lineno"> 81</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s1">&#39;orange&#39;</span><span class="p">;</span>
<span class="lineno"> 82</span> 
<span class="lineno"> 83</span>     <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">t</span><span class="p">;</span>
<span class="lineno"> 84</span>     <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="lineno"> 85</span>   
<span class="lineno"> 86</span> 
<span class="lineno"> 87</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">yAxis</span><span class="p">,</span> <span class="nx">unit</span><span class="o">*</span><span class="nx">y</span><span class="o">+</span><span class="nx">xAxis</span><span class="p">);</span>
<span class="lineno"> 88</span>     
<span class="lineno"> 89</span>     <span class="c1">// Loop to draw segments</span>
<span class="lineno"> 90</span>     <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">yAxis</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">width</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 91</span>         <span class="nx">x</span> <span class="o">=</span> <span class="nx">t</span><span class="o">+</span><span class="p">(</span><span class="o">-</span><span class="nx">yAxis</span><span class="o">+</span><span class="nx">i</span><span class="p">)</span><span class="o">/</span><span class="nx">unit</span><span class="p">;</span>
<span class="lineno"> 92</span>         
<span class="lineno"> 93</span>     	<span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="lineno"> 94</span>         <span class="nx">context</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">unit</span><span class="o">*</span><span class="nx">y</span><span class="o">+</span><span class="nx">xAxis</span><span class="p">);</span>
<span class="lineno"> 95</span> 		<span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
<span class="lineno"> 96</span> 
<span class="lineno"> 97</span> 	 <span class="p">}</span>
<span class="lineno"> 98</span> 
<span class="lineno"> 99</span>  <span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
<span class="lineno">100</span> 
<span class="lineno">101</span> <span class="p">}</span> 
<span class="lineno">102</span> 
<span class="lineno">103</span> <span class="kd">function</span> <span class="nx">drawinSine</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">104</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="lineno">105</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span><span class="p">;</span>   
<span class="lineno">106</span>     <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">t</span><span class="p">;</span>
<span class="lineno">107</span>     <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="lineno">108</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">yAxis</span><span class="p">,</span> <span class="nx">unit</span><span class="o">*</span><span class="nx">y</span><span class="o">+</span><span class="nx">xAxis</span><span class="p">);</span>
<span class="lineno">109</span>     
<span class="lineno">110</span>     <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">yAxis</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">width</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">111</span>         <span class="nx">x</span> <span class="o">=</span> <span class="nx">t</span><span class="o">+</span><span class="p">(</span><span class="o">-</span><span class="nx">yAxis</span><span class="o">+</span><span class="nx">i</span><span class="p">)</span><span class="o">/</span><span class="nx">unit</span><span class="p">;</span>
<span class="lineno">112</span>         <span class="nx">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="lineno">113</span>         <span class="nx">context</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">unit</span><span class="o">*</span><span class="nx">y</span><span class="o">+</span><span class="nx">xAxis</span><span class="p">);</span>
<span class="lineno">114</span> 	<span class="p">}</span>
<span class="lineno">115</span>     <span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
<span class="lineno">116</span> <span class="p">}</span>
<span class="lineno">117</span> 
<span class="lineno">118</span> 
<span class="lineno">119</span> 
<span class="lineno">120</span> 
<span class="lineno">121</span> 
<span class="lineno">122</span>     <span class="nx">Humble</span><span class="p">.</span><span class="nx">Trig</span><span class="p">.</span><span class="nx">init</span><span class="p">()</span>
<span class="lineno">123</span> 	    
<span class="lineno">124</span> <span class="p">})();</span></code></pre></div>

<h1 id="example-1">Example</h1>

<div id="canvas-container" style="width: 500px; height: 300px;">
    <canvas id="sineCanvas" style="width: 500px; height: 300px;" width="500" height="300"></canvas>
</div>

<script>

(function () {

if (typeof(Humble) == 'undefined') window.Humble = {};
Humble.Trig = {};
Humble.Trig.init = init;

var unit = 100,
    canvas, context, canvas2, context2,
    height, width, xAxis, yAxis, gif,
    draw;

/**
 * Init function.
 * 
 * Initialize variables and begin the animation.
 */
function init() {
 
	canvas = document.getElementById("sineCanvas");
    
    canvas.width = 500;
    canvas.height = 300;
    context = canvas.getContext("2d");
    context.fillStyle = "#fdf6e3";
    context.fillRect(0,0,500,300);
    context.font = '18px sans-serif';
    context.strokeStyle = '#000';
    context.lineJoin = 'round';
    
    height = canvas.height;
    width = canvas.width;
    
    xAxis = Math.floor(height/2);
    yAxis = Math.floor(width/4);
    
    context.save();
    draw();
}

/**
 * Draw animation function.
 * 
 * This function draws one frame of the animation, waits 20ms, and then calls
 * itself again.
 */
draw = function () {
    
    // Clear the canvas
    //context.clearRect(0, 0, width, height);
    context.fillStyle = "#fdf6e3";
    context.fillRect(0,0,500,300);


    // Draw the axes in their own path
    context.beginPath();
    
    context.stroke();
    
    // Set styles for animated graphics
    context.save();
    context.fillStyle = 'blue';
    context.fillText("Loading...",20,150);
    context.strokeStyle = '#00f';
    context.lineWidth = 2;
   
  
    // Update the time and draw again
    draw.seconds = draw.seconds - .007;
    draw.t = draw.seconds*Math.PI;
    drawSine(draw.t);
    drawinSine(draw.t);
    setTimeout(draw, 10);
	
	
};
draw.seconds = 0;
draw.t = 0;

 function drawSine(t) {
    context.beginPath();
    context.strokeStyle = 'orange';

    var x = t;
    var y = Math.sin(x);
  

    context.moveTo(yAxis, unit*y+xAxis);
    
    // Loop to draw segments
    for (i = yAxis; i <= width; i += 10) {
        x = t+(-yAxis+i)/unit;
        
    	y = Math.sin(x);
        context.lineTo(i, unit*y+xAxis);
		context.stroke();

	 }

 context.stroke();

} 

function drawinSine(t) {
    context.beginPath();
    context.strokeStyle = 'red';   
    var x = t;
    var y = -1 * Math.sin(x);
    context.moveTo(yAxis, unit*y+xAxis);
    
    for (i = yAxis; i <= width; i += 10) {
        x = t+(-yAxis+i)/unit;
        y = -1* Math.sin(x);
        context.lineTo(i, unit*y+xAxis);
	}
    context.stroke();
}





    Humble.Trig.init()
	    
})();

</script>

<h1 id="loading-the-animation-into-a-gif">Loading the animation into a gif</h1>

<p>I had two approaches to converting the animation into a <code>.gif</code>. One approach
was run the conversion in javascript with a tool known as <code>jsgif</code>. The other approach was to use <code>byzanz</code>, a tool that
generate gifs from a screen capture.</p>

<h1 id="using-byzanz">Using byzanz</h1>

<p>I was able to find an extension of byzanz that actually lets you trace the
region you want to record <a href="http://askubuntu.com/questions/107726/how-to-create-animated-gif-images-of-a-screencast"> here. </a></p>

<div class="highlight"><pre><code class="language-text" data-lang="text"><span class="lineno">1</span> byzanz 
<span class="lineno">2</span> FFcast2</code></pre></div>

<p>Then copy this into a file called <code>byzanz-record-region.sh</code> and run it.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="lineno"> 1</span> <span class="c">#!/bin/bash</span>
<span class="lineno"> 2</span> 
<span class="lineno"> 3</span> <span class="c"># Delay before starting</span>
<span class="lineno"> 4</span> <span class="nv">DELAY</span><span class="o">=</span>10
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span> <span class="c"># Sound notification to let one know when recording is about to start (and ends)</span>
<span class="lineno"> 7</span> beep<span class="o">()</span> <span class="o">{</span>
<span class="lineno"> 8</span>     paplay /usr/share/sounds/KDE-Im-Irc-Event.ogg <span class="p">&amp;</span>
<span class="lineno"> 9</span> <span class="o">}</span>
<span class="lineno">10</span> 
<span class="lineno">11</span> <span class="c"># Duration and output file</span>
<span class="lineno">12</span> <span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span>-gt <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
<span class="lineno">13</span>     <span class="nv">D</span><span class="o">=</span><span class="s2">&quot;--duration=$@&quot;</span>
<span class="lineno">14</span> <span class="k">else</span>
<span class="lineno">15</span>     <span class="nb">echo </span>Default recording duration 10s to /tmp/recorded.gif
<span class="lineno">16</span>     <span class="nv">D</span><span class="o">=</span><span class="s2">&quot;--duration=10 /tmp/recorded.gif&quot;</span>
<span class="lineno">17</span> <span class="k">fi</span>
<span class="lineno">18</span> 
<span class="lineno">19</span> <span class="c"># xrectsel from https://github.com/lolilolicon/FFcast2/blob/master/xrectsel.c</span>
<span class="lineno">20</span> <span class="nv">ARGUMENTS</span><span class="o">=</span><span class="k">$(</span>xrectsel <span class="s2">&quot;--x=%x --y=%y --width=%w --height=%h&quot;</span><span class="k">)</span> <span class="o">||</span> <span class="nb">exit</span> -1
<span class="lineno">21</span> 
<span class="lineno">22</span> <span class="nb">echo </span>Delaying <span class="nv">$DELAY</span> seconds. After that, byzanz will start
<span class="lineno">23</span> <span class="k">for</span> <span class="o">((</span> <span class="nv">i</span><span class="o">=</span><span class="nv">$DELAY</span><span class="p">;</span> i&gt;0<span class="p">;</span> --i <span class="o">))</span> <span class="p">;</span> <span class="k">do</span>
<span class="lineno">24</span>     <span class="nb">echo</span> <span class="nv">$i</span>
<span class="lineno">25</span>     sleep 1
<span class="lineno">26</span> <span class="k">done</span>
<span class="lineno">27</span> beep
<span class="lineno">28</span> byzanz-record --verbose --delay<span class="o">=</span><span class="m">0</span> <span class="k">${</span><span class="nv">ARGUMENTS</span><span class="k">}</span> <span class="nv">$D</span>
<span class="lineno">29</span> beep</code></pre></div>

<p>The gif location would be <code>/tmp/recorded.gif</code></p>

<p><img src="/images/loading.gif" /></p>

<p>This was much more effective than the other approach. However, I would still
mention it as the quality may be improved in the future.</p>

<h1 id="using-jsgif">Using jsgif</h1>

<p>You can find the git repo <a href="https://github.com/antimatter15/jsgif">
here. </a>
First load the javascript files.</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="lineno">1</span> <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;/assets/js/LZWEncoder.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="lineno">2</span> <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;/assets/js/NeuQuant.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="lineno">3</span> <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;/assets/js/GIFEncoder.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="lineno">4</span> <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;/assets/js/b64.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></div>

<p>Then add the encoder to the javascript. I was a able to find a nice code segment that I was able to tweak
<a href="http://stackoverflow.com/questions/3346069/grabbing-each-frame-of-an-html5-canvas">
here. </a></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// give external JS 1 second of time to load</span>
<span class="lineno"> 2</span> 
<span class="lineno"> 3</span>     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Starting&#39;</span><span class="p">);</span>
<span class="lineno"> 4</span> 
<span class="lineno"> 5</span>     <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;sineCanvas&quot;</span><span class="p">);</span>
<span class="lineno"> 6</span>     <span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">);</span>
<span class="lineno"> 7</span>     <span class="kd">var</span> <span class="nx">shots</span>  <span class="o">=</span> <span class="p">[];</span>
<span class="lineno"> 8</span>     <span class="kd">var</span> <span class="nx">grabLimit</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>  <span class="c1">// Number of screenshots to take</span>
<span class="lineno"> 9</span>     <span class="kd">var</span> <span class="nx">grabRate</span>  <span class="o">=</span> <span class="mi">270</span><span class="p">;</span> <span class="c1">// Miliseconds. 500 = half a second</span>
<span class="lineno">10</span>     <span class="kd">var</span> <span class="nx">count</span>     <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="lineno">11</span> 
<span class="lineno">12</span>     <span class="kd">function</span> <span class="nx">showResults</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno">13</span>         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Finishing&#39;</span><span class="p">);</span>
<span class="lineno">14</span>         <span class="nx">encoder</span><span class="p">.</span><span class="nx">finish</span><span class="p">();</span>
<span class="lineno">15</span>         <span class="kd">var</span> <span class="nx">binary_gif</span> <span class="o">=</span> <span class="nx">encoder</span><span class="p">.</span><span class="nx">stream</span><span class="p">().</span><span class="nx">getData</span><span class="p">();</span>
<span class="lineno">16</span>         <span class="kd">var</span> <span class="nx">data_url</span> <span class="o">=</span> <span class="s1">&#39;data:image/gif;base64,&#39;</span><span class="o">+</span><span class="nx">encode64</span><span class="p">(</span><span class="nx">binary_gif</span><span class="p">);</span>
<span class="lineno">17</span>         <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;img src=&quot;&#39;</span> <span class="o">+</span><span class="nx">data_url</span> <span class="o">+</span> <span class="s1">&#39;&quot;/&gt;\n&#39;</span><span class="p">);</span>
<span class="lineno">18</span>     <span class="p">}</span>
<span class="lineno">19</span> 
<span class="lineno">20</span>     <span class="kd">var</span> <span class="nx">encoder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GIFEncoder</span><span class="p">();</span>
<span class="lineno">21</span>     <span class="nx">encoder</span><span class="p">.</span><span class="nx">setRepeat</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>  <span class="c1">//0  -&gt; loop forever, 1+ -&gt; loop n times then stop</span>
<span class="lineno">22</span>     <span class="nx">encoder</span><span class="p">.</span><span class="nx">setDelay</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">//go to next frame every n milliseconds</span>
<span class="lineno">23</span>     <span class="nx">encoder</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="lineno">24</span> 
<span class="lineno">25</span>     <span class="kd">var</span> <span class="nx">grabber</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
<span class="lineno">26</span>     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Grabbing &#39;</span><span class="o">+</span><span class="nx">count</span><span class="p">);</span>
<span class="lineno">27</span>     <span class="nx">count</span><span class="o">++</span><span class="p">;</span>
<span class="lineno">28</span> 
<span class="lineno">29</span>     <span class="k">if</span> <span class="p">(</span><span class="nx">count</span><span class="o">&gt;</span><span class="nx">grabLimit</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">30</span>         <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">grabber</span><span class="p">);</span>
<span class="lineno">31</span>         <span class="nx">showResults</span><span class="p">();</span>
<span class="lineno">32</span>       <span class="p">}</span>
<span class="lineno">33</span> 
<span class="lineno">34</span>      <span class="nx">encoder</span><span class="p">.</span><span class="nx">addFrame</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="lineno">35</span> 
<span class="lineno">36</span>     <span class="p">},</span> <span class="nx">grabRate</span><span class="p">);</span>
<span class="lineno">37</span> 
<span class="lineno">38</span> <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span></code></pre></div>

<p class="notice"><i class="fa fa-warning"></i>  <strong>Notice:</strong> Running the image capture on the
javascript itself actually interfered with the javascript code generating the
animation. It made the animation much slower. The only way to make the
animation faster is to reduce the rate or frame capture. This noticeably
reduces the quality of the animation. </p>

<p><img src="/images/loadingalt.gif" /></p>


      
      <footer role="contentinfo">
        <div class="article-author-bottom">
          
	<img src="/images/bio-photo.jpg" class="bio-photo" alt="Nikhil Kumar bio photo"></a>

<h3>Nikhil Kumar</h3>
<span class="siteBio">A stylish blog on my code<br><br></span>


<a href="http://plus.google.com//u/0/104266827599169158890/posts" class="author-social" target="_blank">&nbsp;<i class="icon-google-plus"></i>&nbsp;<span class = "socialelm" style= "position: relative; left: 1px;"><font color="#586e75">G</font>oogle+</span></a>
<a href="mailto:nikhilkumar516@gmail.com" class="author-social" target="_blank"><i class="fa fa-envelope fa-fw"></i><span class = "socialelm"> <font color="#586e75"> G</font>mail</span></a>




<a href="http://github.com/nikhil" class="author-social" target="_blank"><i class="fa fa-github-square fa-fw"></i> <span class = "socialelm"><font color="#586e75">G</font>ithub</span></a>






<br>
<i class="fa fa-git-square"></i><span class ="changelog"> Changelog: </span>
<script type="text/javascript">
$.get(
  		"https://api.github.com/repos/nikhil/nikhil.github.io/commits",
		function(data){
		   	var date;
			var datepart;
			var messagestr;
			var html = '<br><span class = "changeitems">';
			for(i=0;i < 8; i++)
			{	
				messagestr = data[i].commit.message;
				date = data[i].commit.committer.date;
                datepart = date.split("T")[0];
				html += '<font color = "#586e75">'+ datepart.substring(5)+'</font>'+'&nbsp;&nbsp;'+messagestr+ '<br>';

				        
			
			
			} 

		     html += '</span>';
			 $('.changelog').append(html);
			 $('.changelog').removeClass('changelog');

			 
	
		}




	  )

</script>


        </div>
 <!--       <p class="byline"><strong>Generating a .gif from a Http canvas</strong> was published
			on <time datetime="2014-08-25T00:00:00-04:00">August 25, 2014</time> by <a href="/about" title="About Nikhil Kumar">Nikhil Kumar</a>.</p> -->
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
<div class="sidesine">
	 <canvas class = "sin" id="canvas" width=160 height=635></canvas>
<script type="text/javascript">
function getSine()
{

var canvas=document.getElementById("canvas");
var ctx=canvas.getContext("2d");

//clears the canvas
ctx.save();

ctx.setTransform(1, 0, 0, 1, 0, 0);
ctx.clearRect(0, 0, canvas.width, canvas.height);

ctx.restore();




var x =0;

ctx.beginPath();

while( x<400)
{   if(Math.floor(x)%12 ==0)
    {
          amp =  Math.floor(Math.random() * 75)+.01;
        width = Math.floor(Math.random() * 1.5)+.01;
		wavelength =  Math.floor(Math.random() * 1.57);

    }    
        
    
    var y=amp*Math.sin(width*x+wavelength)+ 80;
    ctx.lineTo(y,x);
     x=x+.05;
}

var gradient=ctx.createLinearGradient(0,0,0,300);
var color1 = '#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)
gradient.addColorStop("0",color1);
var color2 = '#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)
gradient.addColorStop(".25",color2);
var color3 = '#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)
var color4 = '#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)
gradient.addColorStop(".5",color3);
gradient.addColorStop("1.0",color4);

// Fill with gradient
ctx.strokeStyle=gradient;
ctx.lineWidth=2.4;

ctx.stroke();
//$('.post .sin').css('top','80px');
//$('.post #sinbtn').css('top','520px');

}

getSine();
</script>

<button onclick ="getSine()" class = "btnsine" id = "sinbtn"> Regenerate </button>

 </div>
  
</div><!-- /#main -->













<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Html'
		   }).appendTo("pre:eq(0)");

});	

</script>























<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Html'
		   }).appendTo("pre:eq(1)");

});	

</script>

























<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Javascript'
		   }).appendTo("pre:eq(2)");

});	

</script>





















<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Html'
		   }).appendTo("pre:eq(3)");

});	

</script>

























<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Javascript'
		   }).appendTo("pre:eq(4)");

});	

</script>



















<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Packages'
		   }).appendTo("pre:eq(5)");

});	

</script>

















<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Bash'
		   }).appendTo("pre:eq(6)");

});	

</script>































<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Html'
		   }).appendTo("pre:eq(7)");

});	

</script>

























<script type="text/javascript">
$( document ).ready(function() {
     
       $("pre").addClass("terminal");
	   
		 $("<span>",{
	       rel:'  Javascript'
		   }).appendTo("pre:eq(8)");

});	

</script>














<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/Getting-Black-Hat-on-my-Android/" title="Getting Black Hat on my Android">Getting Black Hat on my Android</a></li>
    
      <li><a href="/Developing-Random-Math-Art/" title="Developing Random Math Art">Developing Random Math Art</a></li>
    
      <li><a href="/Adding-FontAwsome-icons-to-my-resume-using-Latex/" title="Adding FontAwsome Icons to my resume using Latex">Adding FontAwsome Icons to my resume using Latex</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2014 Nikhil Kumar. Powered by <a href="http://jekyllrb.com">Jekyll</a>. Not <a href="/puns/">Hyde</a>n by <a href="https://pages.github.com/">Github pages</a></span> 

  </footer>
</div><!-- /.footer-wrap -->

<script src="/assets/js/scripts.min.js"></script>


	        

</body>
</html>
